<h2>The Benefits of Using Alpine</h2>
<p>Alpine is without a doubt the simplest and lightest solution for sprinkling declarative reactivity into your templating language of choice:</p>

          <div class="bg-gray-900 p-4 text-white shadow-lg">
            <div class="space-x-2 flex items-center">
              <div class=" w-3 h-3 bg-red-500"></div>
              <div class=" w-3 h-3 bg-yellow-500"></div>
              <div class=" w-3 h-3 bg-green-500"></div>
            </div>
        <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--<br>  In this tiny example we have reactive DOM toggling!<br>--></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ isNavOpen: false }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isNavOpen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isNavOpen = !isNavOpen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      Toggle Nav<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>    <span class="token comment">&lt;!-- Page Content --></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isNavOpen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token comment">&lt;!-- Mobile Navigation Content --></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>
</div><p>I love using Alpine and include it on my following projects:</p>
<ul>
<li><a href="https://github.com/mattwaler/tea-stack">TEA Stack</a></li>
<li><a href="https://github.com/mattwaler/fastify-starter">Fastify Starter</a></li>
<li><a href="https://github.com/mattwaler/mattwaler.com">This Website</a></li>
<li><a href="https://github.com/mattwaler/overpass.mattwaler.com">Overpass</a></li>
</ul>
<p>However, there's one small problem you will inevitably hit when using it.</p>
<h2>The Problem: Managing Global State and Component Communication</h2>
<p>Unfortunately, Alpine lacks a global state management solution like React Context or Vuex. As such, updating parent state in child components or triggering updates from one component to another gets tricky in Alpine.</p>
<p>Here's a brief code example of the problem in action:</p>

          <div class="bg-gray-900 p-4 text-white shadow-lg">
            <div class="space-x-2 flex items-center">
              <div class=" w-3 h-3 bg-red-500"></div>
              <div class=" w-3 h-3 bg-yellow-500"></div>
              <div class=" w-3 h-3 bg-green-500"></div>
            </div>
        <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--<br>  We create a parent component to toggle between page content<br>  and the mobile navigation.<br>--></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ isNavOpen: false }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isNavOpen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token comment">&lt;!-- Page Content --></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isNavOpen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ showChildLinks: false }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token comment">&lt;!--<br>        Here we have no access to "isNavOpen" since we've<br>        defined a new component context.<br>      --></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>
</div><p>In this example, we are not be able to toggle <code>isNavOpen</code> within the nested div component! So, if we wanted to add a button somewhere inside of this component who's purpose was to close the navigation, we have no way of doing so!</p>
<h2>Solving Global Alpine State with Custom Events</h2>
<p>We can solve this problem with Custom Events. Alpine provides shorthands to register and listen for them throughout your markup too!</p>
<p>In traditional JS, you would create and listen for custom events like so:</p>

          <div class="bg-gray-900 p-4 text-white shadow-lg">
            <div class="space-x-2 flex items-center">
              <div class=" w-3 h-3 bg-red-500"></div>
              <div class=" w-3 h-3 bg-yellow-500"></div>
              <div class=" w-3 h-3 bg-green-500"></div>
            </div>
        <pre class="language-js"><code class="language-js"><span class="token comment">// Define the event</span><br><span class="token keyword">const</span> toggleNav <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">'toggle-nav'</span><span class="token punctuation">)</span><br><br><span class="token comment">// Listen on the window for this event, and when it fires, do something</span><br>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'toggle-nav'</span><span class="token punctuation">,</span> <span class="token function">toggleNavFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>toggleNav<span class="token punctuation">)</span></code></pre>
</div><p>Alpine allows you to do this directly in your template!</p>

          <div class="bg-gray-900 p-4 text-white shadow-lg">
            <div class="space-x-2 flex items-center">
              <div class=" w-3 h-3 bg-red-500"></div>
              <div class=" w-3 h-3 bg-yellow-500"></div>
              <div class=" w-3 h-3 bg-green-500"></div>
            </div>
        <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--<br>  @toggle-nav.window is identical to the example above.<br>  Now we can mutate state when the event is fired from anywhere!<br>--></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><br>  <span class="token attr-name">@toggle-nav.window</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isNavOpen = !isNavOpen<span class="token punctuation">"</span></span><br>  <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ isNavOpen: false }<span class="token punctuation">"</span></span><br><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isNavOpen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token comment">&lt;!-- Page Content --></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isNavOpen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ showChildLinks: false }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token comment">&lt;!--<br>        We can now toggle the navigation from a nested component!<br>      --></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$dispatch(<span class="token punctuation">'</span>toggle-nav<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        Toggle the nav!<br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>
</div><h2>Not Just For Parent-Child State Communication</h2>
<p>This solution is not limited to the Parent-Child relationship illustrated in the code examples above. You can also use this solution to pass/update values from sibling components!</p>

          <div class="bg-gray-900 p-4 text-white shadow-lg">
            <div class="space-x-2 flex items-center">
              <div class=" w-3 h-3 bg-red-500"></div>
              <div class=" w-3 h-3 bg-yellow-500"></div>
              <div class=" w-3 h-3 bg-green-500"></div>
            </div>
        <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--<br>  Here we allow the message value to be updated globally<br>  by registering an 'update-message' custom event on window<br>  NOTE: You can accept data from the event with $event.detail<br>--></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><br>  <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ message: <span class="token punctuation">'</span>Initial message!<span class="token punctuation">'</span> }<span class="token punctuation">"</span></span><br>  <span class="token attr-name">@update-message.window</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message = $event.detail.message<span class="token punctuation">"</span></span><br><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">x-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token comment">&lt;!--<br>  Here we dispatch our custom event from another sibling component, and pass<br>  a new payload along with it!<br> --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-data</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$dispatch(<span class="token punctuation">'</span>update-message<span class="token punctuation">'</span>, { message: <span class="token punctuation">'</span>New message!<span class="token punctuation">'</span> })<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    Update other message value!<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
</div><p>Next time you need to pass state or update state across component contexts, be sure to reach for custom events and dispatchers!</p>
